import{d as A,a3 as j,f as p,Q as D,e as F,w as O,o as l,c as t,F as T,r as f,A as n,x as P,a4 as I,a5 as U,C as M,b as z,y as h,a6 as E,n as Q,j as q,$ as G}from"./framework.b40f6530.js";import{_ as w}from"./Icon.vue_vue_type_script_setup_true_lang.605255a9.js";const oe=Symbol("formContextKey"),H=Symbol("formItemContextKey"),J={key:0,class:"vk-input__prepend"},L={class:"vk-input__wrapper"},W={key:0,class:"vk-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Y={key:1,class:"vk-input__append"},Z=["disabled","readonly","autocomplete","placeholder","autofocus","form"],_=A({name:"VkInput",inheritAttrs:!1}),le=A({..._,props:{type:{default:"text"},modelValue:null,size:null,disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:null,readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:null},emits:["update:modelValue","input","change","focus","blur","clear"],setup(e,{expose:K,emit:s}){const u=e,b=j(),o=p(u.modelValue),c=p(!1),d=p(!1),i=p(),v=D(H),y=a=>{v==null||v.validate(a).catch(r=>console.log(r.errors))},g=F(()=>u.clearable&&!u.disabled&&!!o.value&&c.value),m=F(()=>u.showPassword&&!u.disabled&&!!o.value),$=()=>{d.value=!d.value},N=()=>{},R=async()=>{await q(),i.value.focus()},C=()=>{s("update:modelValue",o.value),s("input",o.value),y("input")},V=()=>{s("change",o.value),y("change")},x=a=>{c.value=!0,s("focus",a)},B=a=>{console.log("blur triggered"),c.value=!1,s("blur",a),y("blur")},S=()=>{console.log("clear triggered"),o.value="",s("update:modelValue",""),s("clear"),s("input",""),s("change","")};return O(()=>u.modelValue,a=>{o.value=a}),K({ref:i}),(a,r)=>(l(),t("div",{class:Q(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":a.$slots.prepend,"is-append":a.$slots.append,"is-prefix":a.$slots.prefix,"is-suffix":a.$slots.suffix,"is-focus":c.value}])},[e.type!=="textarea"?(l(),t(T,{key:0},[a.$slots.prepend?(l(),t("div",J,[f(a.$slots,"prepend")])):n("",!0),P("div",L,[a.$slots.prefix?(l(),t("span",W,[f(a.$slots,"prefix")])):n("",!0),I(P("input",M({class:"vk-input__inner",type:e.showPassword?d.value?"text":"password":e.type,ref_key:"inputRef",ref:i},z(b),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":r[0]||(r[0]=k=>o.value=k),onInput:C,onChange:V,onFocus:x,onBlur:B}),null,16,X),[[U,o.value]]),a.$slots.suffix||g.value||m.value?(l(),t("span",{key:1,class:"vk-input__suffix",onClick:R},[f(a.$slots,"suffix"),g.value?(l(),h(w,{key:0,icon:"circle-xmark",class:"vk-input__clear",onClick:S,onMousedown:G(N,["prevent"])},null,8,["onMousedown"])):n("",!0),m.value&&d.value?(l(),h(w,{key:1,icon:"eye",class:"vk-input__password",onClick:$})):n("",!0),m.value&&!d.value?(l(),h(w,{key:2,icon:"eye-slash",class:"vk-input__password",onClick:$})):n("",!0)])):n("",!0)]),a.$slots.append?(l(),t("div",Y,[f(a.$slots,"append")])):n("",!0)],64)):I((l(),t("textarea",M({key:1,class:"vk-textarea__wrapper"},z(b),{ref_key:"inputRef",ref:i,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":r[1]||(r[1]=k=>o.value=k),onInput:C,onChange:V,onFocus:x,onBlur:B}),null,16,Z)),[[E,o.value]])],2))}});export{le as _,H as a,oe as f};
